# 产品编码管理系统

一个用于管理产品编码的全栈应用，采用前后端分离架构。

## 技术栈

### 后端
- Node.js
- Express
- MongoDB (可选，默认使用文件系统存储)
- RESTful API

### 前端
- React
- React Router
- Ant Design
- Axios
- Chart.js

## 功能特性

- 产品管理：添加、删除、查看产品
- 编码管理：为产品添加编码、删除编码、查看编码列表
- 统计功能：显示总产品数、总编码数、今日活动数
- 扫码功能：支持扫描二维码/条形码添加编码
- 快速录入：支持使用扫码枪快速录入编码，无需打开模态框
- 重复检测：自动检测重复编码，防止用户录入重复数据
- 确认机制：重复编码需用户确认后才能继续录入，防止遗漏
- 导出功能：支持导出编码到Excel文件
- 搜索筛选：支持按名称搜索产品和编码，按分类筛选产品
- 缺失编码检测：自动检测并显示编码范围内的缺失编码
- 数据可视化：使用图表展示产品分类分布和活动统计

## 项目结构

```
产品编码管理系统/
├── client/                  # 前端React应用
│   ├── public/              # 静态资源
│   └── src/                 # 源代码
│       ├── components/      # React组件
│       ├── config/          # 配置文件
│       ├── pages/           # 页面组件
│       ├── services/        # API服务
│       └── utils/           # 工具函数
│
├── server/                  # 后端Node.js应用
│   └── src/                 # 源代码
│       ├── controllers/     # 控制器
│       ├── models/          # 数据模型
│       ├── routes/          # 路由定义
│       └── services/        # 业务逻辑
│
├── data/                    # 数据存储目录（使用文件系统存储时）
├── start-server.bat         # 服务器启动脚本
├── start-client.bat         # 客户端启动脚本
└── README.md                # 项目说明
```

## 安装与运行

### 快速启动

使用提供的批处理文件快速启动应用：

1. 启动后端服务器：双击运行 `start-server.bat`
2. 启动前端开发服务器：双击运行 `start-client.bat`

### 手动安装

#### 安装依赖

```bash
# 安装后端依赖
cd server
npm install

# 安装前端依赖
cd ../client
npm install
```

#### 运行应用

```bash
# 运行后端服务器
cd server
npm run dev

# 运行前端开发服务器
cd ../client
npm start
```

### 构建生产版本

```bash
# 构建前端
cd client
npm run build

# 运行生产版本
cd ../server
npm start
```

## 配置

- 后端配置：修改 `server/.env` 文件
- 前端配置：修改 `client/src/config/index.js` 文件

## 数据存储

系统默认使用文件系统存储数据，数据文件保存在 `data` 目录下。如果需要使用MongoDB，请在 `server/.env` 文件中配置MongoDB连接字符串。

## 使用指南

### 快速录入编码

系统提供了快速录入编码的功能，特别适合使用扫码枪进行批量录入：

1. 进入产品详情页面
2. 在页面顶部的"快速添加"输入框中，使用扫码枪扫描条码
3. 系统会自动捕获扫码结果并提交，无需点击按钮
4. 扫描完成后，输入框会自动清空并重新获得焦点，方便连续扫码

这种方式比传统的模态框录入更加高效，特别适合大批量编码录入场景。

### 重复编码检测

系统具有重复编码检测功能，防止用户录入重复的编码数据：

1. 当用户尝试录入已存在的编码时，系统会立即检测到并显示警告提示
2. 警告提示包括红色错误信息和声音提示，确保用户能够注意到
3. 重复的编码不会被提交，用户可以看到重复的编码内容
4. 系统会弹出确认对话框，要求用户确认是否继续录入其他编码
5. 用户可以选择"继续录入"（清空当前输入并继续）或"取消"（保留当前输入）

这个功能可以有效防止数据重复，提高数据质量，同时避免用户在批量录入过程中遗漏编码。确认机制确保用户必须对重复编码做出明确处理，防止因疏忽而错过重要信息。

### 扫码添加

对于需要查看扫描结果后再确认添加的情况，系统也提供了传统的扫码模式：

1. 点击"扫码添加"按钮
2. 在弹出的模态框中使用摄像头扫描条码
3. 确认扫描结果无误后，点击"使用扫描结果"按钮